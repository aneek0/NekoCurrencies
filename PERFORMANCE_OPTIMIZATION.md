# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ NekoCurrencies

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞ NekoCurrencies.

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- **Unix-—Å–∏—Å—Ç–µ–º—ã (Linux/macOS)**: 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `uvloop`
- **Windows**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å `WindowsProactorEventLoopPolicy`
- **JSON –æ–ø–µ—Ä–∞—Ü–∏–∏**: 2-3x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `orjson`/`ujson`
- **HTTP –∑–∞–ø—Ä–æ—Å—ã**: 1.5-2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `httpx`
- **–§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: 1.5-2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `aiofiles`
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 2-5x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `aiocache`
- **–û–±—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è**: –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ API –∑–∞–ø—Ä–æ—Å–æ–≤

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –î–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
```bash
pip install -r requirements.txt
```

### –î–ª—è Unix-—Å–∏—Å—Ç–µ–º (Linux/macOS)
```bash
pip install uvloop
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
# –ë—ã—Å—Ç—Ä—ã–π JSON –ø–∞—Ä—Å–µ—Ä (Unix —Ç–æ–ª—å–∫–æ)
pip install orjson

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –±—ã—Å—Ç—Ä—ã–π JSON –ø–∞—Ä—Å–µ—Ä
pip install ujson

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
pip install aiofiles

# –ë—ã—Å—Ç—Ä—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
pip install httpx

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
pip install aiocache

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
pip install psutil

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ
pip install py-cpuinfo
```

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∞—à—É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Unix-—Å–∏—Å—Ç–µ–º—ã**: –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç `uvloop` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. **Windows**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Å `WindowsProactorEventLoopPolicy`
3. **JSON –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `orjson` –∏–ª–∏ `ujson` –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
4. **HTTP –∫–ª–∏–µ–Ω—Ç**: –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ `httpx` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤
5. **–§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `aiofiles` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
6. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç `aiocache` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìà –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```python
import time
import asyncio
from bot import process_message

async def benchmark():
    start_time = time.time()
    # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    test_messages = ["100 –¥–æ–ª–ª–∞—Ä–æ–≤", "50 –µ–≤—Ä–æ", "1000 —Ä—É–±–ª–µ–π"]
    
    for msg in test_messages:
        await process_message(msg)
    
    end_time = time.time()
    print(f"–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: {end_time - start_time:.4f} —Å–µ–∫—É–Ω–¥")
```

### –¢–µ—Å—Ç API –∑–∞–ø—Ä–æ—Å–æ–≤
```python
import time
from currency_service import CurrencyService

async def benchmark_api():
    service = CurrencyService()
    start_time = time.time()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
    await service.convert_currency(100, "USD", ["EUR", "RUB"])
    
    end_time = time.time()
    print(f"–í—Ä–µ–º—è API –∑–∞–ø—Ä–æ—Å–∞: {end_time - start_time:.4f} —Å–µ–∫—É–Ω–¥")
```

### –¢–µ—Å—Ç JSON –æ–ø–µ—Ä–∞—Ü–∏–π
```python
import time
import json
from database import UserDatabase

def benchmark_json():
    db = UserDatabase()
    start_time = time.time()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
    for i in range(1000):
        db.get_user(i)
    
    end_time = time.time()
    print(f"–í—Ä–µ–º—è JSON –æ–ø–µ—Ä–∞—Ü–∏–π: {end_time - start_time:.4f} —Å–µ–∫—É–Ω–¥")
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```python
from performance_optimizer import PerformanceOptimizer

# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö
info = PerformanceOptimizer.get_optimization_info()
print(f"–°–∏—Å—Ç–µ–º–∞: {info['system']}")
print(f"–ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: {info['optimizations_applied']}")

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
results = PerformanceOptimizer.apply_all_optimizations()
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: {results}")
```

## ‚ö° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### JSON –ø–∞—Ä—Å–∏–Ω–≥
- **orjson**: –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π JSON –ø–∞—Ä—Å–µ—Ä (—Ç–æ–ª—å–∫–æ Unix)
- **ujson**: –ë—ã—Å—Ç—Ä—ã–π JSON –ø–∞—Ä—Å–µ—Ä –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 2-3x –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### HTTP –∫–ª–∏–µ–Ω—Ç
- **httpx**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç —Å –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 1.5-2x –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ aiohttp

### –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **aiofiles**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 1.5-2x –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å JSON —Ñ–∞–π–ª–æ–≤

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **aiocache**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –±—ç–∫–µ–Ω–¥–∞–º–∏
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 2-5x –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ë—ç–∫–µ–Ω–¥—ã**: Redis, Memory, Filesystem

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
- **psutil**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **py-cpuinfo**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### uvloop
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Unix-—Å–∏—Å—Ç–µ–º–∞—Ö (Linux, macOS)
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å Windows
- –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

### orjson
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Unix-—Å–∏—Å—Ç–µ–º–∞—Ö
- –¢—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C
- –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π JSON –ø–∞—Ä—Å–µ—Ä

### Windows –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WindowsProactorEventLoopPolicy`
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Python

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "uvloop not available"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ uvloop
pip install uvloop

# –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
export UVLOOP_DISABLE=1
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å orjson
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C (Ubuntu/Debian)
sudo apt-get install build-essential

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ujson –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É
pip install ujson
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Windows
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É
python -c "import asyncio; asyncio.set_event_loop_policy(asyncio.DefaultEventLoopPolicy())"
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [uvloop –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://uvloop.readthedocs.io/)
- [orjson –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/ijl/orjson)
- [ujson –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/ultrajson/ultrajson)
- [httpx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.python-httpx.org/)
- [aiofiles –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/Tinche/aiofiles)
- [aiocache –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/aio-libs/aiocache)
- [Python asyncio –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](https://docs.python.org/3/library/asyncio.html)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
pip install --upgrade uvloop orjson ujson aiofiles httpx aiocache psutil py-cpuinfo

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python bot.py
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: ~50-100ms
- API –∑–∞–ø—Ä–æ—Å: ~200-500ms
- JSON –æ–ø–µ—Ä–∞—Ü–∏–∏: ~10-20ms
- –û–±—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: ~260-620ms

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Unix —Å uvloop**: 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **Windows**: 1.5-2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **JSON —Å orjson**: 2-3x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **HTTP —Å httpx**: 1.5-2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **–û–±—â–µ–µ**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –∏ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

üí° **–°–æ–≤–µ—Ç**: –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π! 