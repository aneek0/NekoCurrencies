# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ NekoCurrencies

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞ NekoCurrencies.

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- **Unix-—Å–∏—Å—Ç–µ–º—ã (Linux/macOS)**: 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å `uvloop`
- **Windows**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å `asyncio-windows-utils`
- **–û–±—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è**: –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ API –∑–∞–ø—Ä–æ—Å–æ–≤

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –î–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º
```bash
pip install -r requirements.txt
```

### –î–ª—è Unix-—Å–∏—Å—Ç–µ–º (Linux/macOS)
```bash
pip install uvloop
```

### –î–ª—è Windows
```bash
pip install asyncio-windows-utils
```

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Unix-—Å–∏—Å—Ç–µ–º—ã**: –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç `uvloop` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. **Windows**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WindowsProactorEventLoopPolicy` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
3. **–î—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üìà –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```python
import time
import asyncio
from bot import process_message

async def benchmark():
    start_time = time.time()
    # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    test_messages = ["100 –¥–æ–ª–ª–∞—Ä–æ–≤", "50 –µ–≤—Ä–æ", "1000 —Ä—É–±–ª–µ–π"]
    
    for msg in test_messages:
        await process_message(msg)
    
    end_time = time.time()
    print(f"–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: {end_time - start_time:.4f} —Å–µ–∫—É–Ω–¥")
```

### –¢–µ—Å—Ç API –∑–∞–ø—Ä–æ—Å–æ–≤
```python
import time
from currency_service import CurrencyService

async def benchmark_api():
    service = CurrencyService()
    start_time = time.time()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
    await service.convert_currency(100, "USD", ["EUR", "RUB"])
    
    end_time = time.time()
    print(f"–í—Ä–µ–º—è API –∑–∞–ø—Ä–æ—Å–∞: {end_time - start_time:.4f} —Å–µ–∫—É–Ω–¥")
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

```python
from performance_optimizer import PerformanceOptimizer

# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö
info = PerformanceOptimizer.get_optimization_info()
print(f"–°–∏—Å—Ç–µ–º–∞: {info['system']}")
print(f"–ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: {info['optimizations_applied']}")
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### uvloop
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Unix-—Å–∏—Å—Ç–µ–º–∞—Ö (Linux, macOS)
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å Windows
- –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

### Windows –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `WindowsProactorEventLoopPolicy`
- –¢—Ä–µ–±—É–µ—Ç `asyncio-windows-utils`
- –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Python

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "uvloop not available"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ uvloop
pip install uvloop

# –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
export UVLOOP_DISABLE=1
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Windows
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Windows —É—Ç–∏–ª–∏—Ç—ã
pip install asyncio-windows-utils

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É
python -c "import asyncio; asyncio.set_event_loop_policy(asyncio.DefaultEventLoopPolicy())"
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [uvloop –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://uvloop.readthedocs.io/)
- [asyncio-windows-utils](https://github.com/aiogram/asyncio-windows-utils)
- [Python asyncio –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](https://docs.python.org/3/library/asyncio.html)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

```bash
# –û–±–Ω–æ–≤–∏—Ç—å uvloop
pip install --upgrade uvloop

# –û–±–Ω–æ–≤–∏—Ç—å Windows —É—Ç–∏–ª–∏—Ç—ã
pip install --upgrade asyncio-windows-utils

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python bot.py
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: ~50-100ms
- API –∑–∞–ø—Ä–æ—Å: ~200-500ms
- –û–±—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: ~250-600ms

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Unix —Å uvloop**: 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **Windows**: 1.5-2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- **–û–±—â–µ–µ**: –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –∏ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

üí° **–°–æ–≤–µ—Ç**: –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–π—Ç–µ –±–æ—Ç–∞ –Ω–∞ Linux-—Å–µ—Ä–≤–µ—Ä–µ —Å uvloop! 