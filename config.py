import os
from dotenv import load_dotenv

load_dotenv()

# Telegram Bot Token
BOT_TOKEN = os.getenv('BOT_TOKEN')

# Admin IDs (comma-separated list)
ADMIN_IDS = [int(x.strip()) for x in os.getenv('ADMIN_IDS', '').split(',') if x.strip()]

# CurrencyFreaks API (основной)
CURRENCY_FREAKS_API_KEY = os.getenv('CURRENCY_FREAKS_API_KEY')
CURRENCY_FREAKS_BASE_URL = "https://api.currencyfreaks.com/v2.0/rates/latest"

# ExchangeRate-API (резервный)
EXCHANGE_RATE_API_KEY = os.getenv('EXCHANGE_RATE_API_KEY')
EXCHANGE_RATE_BASE_URL = "https://v6.exchangerate-api.com/v6"

# НБРБ API (белорусский источник)
NBRB_BASE_URL = "https://www.nbrb.by/api"

# Supported currencies
FIAT_CURRENCIES = {
    'USD': '🇺🇸 USD', 'EUR': '🇪🇺 EUR', 'GBP': '🇬🇧 GBP', 'JPY': '🇯🇵 JPY',
    'CNY': '🇨🇳 CNY', 'RUB': '🇷🇺 RUB', 'UAH': '🇺🇦 UAH', 'BYN': '🇧🇾 BYN',
    'KZT': '🇰🇿 KZT', 'CZK': '🇨🇿 CZK', 'KRW': '🇰🇷 KRW', 'INR': '🇮🇳 INR',
    'CAD': '🇨🇦 CAD', 'AUD': '🇦🇺 AUD', 'NZD': '🇳🇿 NZD', 'CHF': '🇨🇭 CHF',
    'SEK': '🇸🇪 SEK', 'NOK': '🇳🇴 NOK', 'DKK': '🇩🇰 DKK', 'PLN': '🇵🇱 PLN',
    'HUF': '🇭🇺 HUF', 'TRY': '🇹🇷 TRY', 'BRL': '🇧🇷 BRL', 'MXN': '🇲🇽 MXN',
    'ARS': '🇦🇷 ARS', 'CLP': '🇨🇱 CLP', 'COP': '🇨🇴 COP', 'PEN': '🇵🇪 PEN',
    'UYU': '🇺🇾 UYU', 'PYG': '🇵🇾 PYG', 'BWP': '🇧🇼 BWP', 'ZAR': '🇿🇦 ZAR',
    'EGP': '🇪🇬 EGP', 'NGN': '🇳🇬 NGN', 'KES': '🇰🇪 KES', 'GHS': '🇬🇭 GHS',
    'MAD': '🇲🇦 MAD', 'TND': '🇹🇳 TND', 'LYD': '🇱🇾 LYD', 'DZD': '🇩🇿 DZD',
    'TZS': '🇹🇿 TZS', 'UGX': '🇺🇬 UGX', 'RWF': '🇷🇼 RWF', 'BIF': '🇧🇮 BIF',
    'DJF': '🇩🇯 DJF', 'SOS': '🇸🇴 SOS', 'ETB': '🇪🇹 ETB', 'SDG': '🇸🇩 SDG',
    'SSP': '🇸🇸 SSP', 'ERN': '🇪🇷 ERN', 'SLL': '🇸🇱 SLL', 'GNF': '🇬🇳 GNF',
    'SLE': '🇸🇱 SLE', 'GMD': '🇬🇲 GMD', 'HKD': '🇭🇰 HKD', 'TWD': '🇹🇼 TWD',
    'SGD': '🇸🇬 SGD', 'MYR': '🇲🇾 MYR', 'THB': '🇹🇭 THB', 'IDR': '🇮🇩 IDR',
    'PHP': '🇵🇭 PHP', 'VND': '🇻🇳 VND', 'LAK': '🇱🇦 LAK', 'KHR': '🇰🇭 KHR',
    'MMK': '🇲🇲 MMK', 'BDT': '🇧🇩 BDT', 'LKR': '🇱🇰 LKR', 'NPR': '🇳🇵 NPR',
    'BTN': '🇧🇹 BTN', 'MVR': '🇲🇻 MVR', 'PKR': '🇵🇰 PKR', 'AFN': '🇦🇫 AFN',
    'IRR': '🇮🇷 IRR', 'IQD': '🇮🇶 IQD', 'JOD': '🇯🇴 JOD', 'KWD': '🇰🇼 KWD',
    'BHD': '🇧🇭 BHD', 'QAR': '🇶🇦 QAR', 'AED': '🇦🇪 AED', 'OMR': '🇴🇲 OMR',
    'YER': '🇾🇪 YER', 'SAR': '🇸🇦 SAR', 'ILS': '🇮🇱 ILS', 'MOP': '🇲🇴 MOP',
    'AWG': '🇦🇼 AWG', 'ANG': '🇦🇼 ANG', 'XCD': '🇦🇬 XCD', 'BBD': '🇧🇧 BBD',
    'TTD': '🇹🇹 TTD', 'JMD': '🇯🇲 JMD', 'HTG': '🇭🇹 HTG', 'DOP': '🇩🇴 DOP',
    'CUP': '🇨🇺 CUP', 'BSD': '🇧🇸 BSD', 'BMD': '🇧🇲 BMD', 'BZD': '🇧🇿 BZD',
    'GTQ': '🇬🇹 GTQ', 'HNL': '🇭🇳 HNL', 'SVC': '🇸🇻 SVC', 'NIO': '🇳🇮 NIO',
    'CRC': '🇨🇷 CRC', 'PAB': '🇵🇦 PAB', 'BOB': '🇧🇴 BOB', 'GEL': '🇬🇪 GEL',
    'AMD': '🇦🇲 AMD', 'AZN': '🇦🇿 AZN', 'KGS': '🇰🇬 KGS', 'TJS': '🇹🇯 TJS',
    'TMT': '🇹🇲 TMT', 'UZS': '🇺🇿 UZS', 'MNT': '🇲🇳 MNT', 'LSL': '🇱🇸 LSL',
    'NAD': '🇳🇦 NAD', 'SZL': '🇸🇿 SZL', 'MUR': '🇲🇺 MUR', 'SCR': '🇸🇨 SCR',
    'KMF': '🇰🇲 KMF', 'MGA': '🇲🇬 MGA', 'CDF': '🇨🇩 CDF', 'MWK': '🇲🇼 MWK',
    'ZMW': '🇿🇲 ZMW', 'ZWL': '🇿🇼 ZWL', 'ZWD': '🇿🇼 ZWD', 'BAM': '🇧🇦 BAM',
    'RSD': '🇷🇸 RSD', 'MKD': '🇲🇰 MKD', 'ALL': '🇦🇱 ALL', 'BGN': '🇧🇬 BGN',
    'HRK': '🇭🇷 HRK', 'EEK': '🇪🇪 EEK', 'FIM': '🇫🇮 FIM', 'FRF': '🇫🇷 FRF',
    'DEM': '🇩🇪 DEM', 'GRD': '🇬🇷 GRD', 'IEP': '🇮🇪 IEP', 'ITL': '🇮🇹 ITL',
    'LVL': '🇱🇻 LVL', 'LTL': '🇱🇹 LTL', 'LUF': '🇱🇺 LUF', 'MTL': '🇲🇹 MTL',
    'NLG': '🇳🇱 NLG', 'PTE': '🇵🇹 PTE', 'ROL': '🇷🇴 ROL', 'SIT': '🇸🇮 SIT',
    'SKK': '🇸🇰 SKK', 'ESP': '🇪🇸 ESP'
}

CRYPTO_CURRENCIES = {
    'BTC': '₿ BTC', 'ETH': 'Ξ ETH', 'USDT': '💎 USDT', 'USDC': '💎 USDC',
    'BNB': '💎 BNB', 'ADA': '💎 ADA', 'SOL': '💎 SOL', 'DOT': '💎 DOT',
    'MATIC': '💎 MATIC', 'LINK': '💎 LINK', 'UNI': '💎 UNI', 'AVAX': '💎 AVAX',
    'ATOM': '💎 ATOM', 'LTC': '💎 LTC', 'BCH': '💎 BCH', 'XRP': '💎 XRP',
    'DOGE': '💎 DOGE', 'SHIB': '💎 SHIB', 'TRX': '💎 TRX', 'XLM': '💎 XLM',
    'DAI': '💎 DAI', 'BUSD': '💎 BUSD', 'TUSD': '💎 TUSD', 'GUSD': '💎 GUSD',
    'FRAX': '💎 FRAX', 'LUSD': '💎 LUSD', 'TON': '💎 TON'
}

# Currency aliases and slang
CURRENCY_ALIASES = {
    # Fiat currencies
    'доллар': 'USD', 'долларов': 'USD', 'доллара': 'USD', 'доллары': 'USD',
    'бакс': 'USD', 'баксов': 'USD', 'бакса': 'USD', 'баксы': 'USD',
    'долл': 'USD', 'долл.': 'USD', 'дол': 'USD', 'дол.': 'USD',
    'зеленый': 'USD', 'зеленых': 'USD', 'зеленая': 'USD', 'зеленые': 'USD',
	# Hryvnia (UAH)
	'гривна': 'UAH', 'гривен': 'UAH', 'гривны': 'UAH', 'гривень': 'UAH',
	'грив': 'UAH', 'грив.': 'UAH', 'грн': 'UAH', 'грн.': 'UAH',
    'евро': 'EUR', 'евров': 'EUR', 'евра': 'EUR', 'евр': 'EUR', 'евр.': 'EUR',
    'фунт': 'GBP', 'фунтов': 'GBP', 'фунта': 'GBP', 'фунты': 'GBP',
    'стерлинг': 'GBP', 'стерлингов': 'GBP', 'стерлинга': 'GBP', 'стерлинги': 'GBP',
    'иена': 'JPY', 'иен': 'JPY', 'йена': 'JPY', 'йен': 'JPY',
    'юань': 'CNY', 'юаней': 'CNY', 'юаня': 'CNY',
	# Ruble (RUB)
    'рубль': 'RUB', 'рублей': 'RUB', 'рубля': 'RUB', 'рубли': 'RUB',
    'руб': 'RUB', 'руб.': 'RUB', 'рубл': 'RUB', 'рубл.': 'RUB',
	'р': 'RUB', 'р.': 'RUB',
    'русач': 'RUB', 'русачей': 'RUB', 'русача': 'RUB', 'русачи': 'RUB',
    'тенге': 'KZT', 'тг': 'KZT', 'тг.': 'KZT', 'tg': 'KZT',
    'бел': 'BYN', 'бел.': 'BYN', 'белорус': 'BYN', 'белорусов': 'BYN', 'белоруса': 'BYN', 'белорусы': 'BYN',
    'белорусский рубль': 'BYN', 'белорусских рублей': 'BYN', 'белорусского рубля': 'BYN', 'белорусские рубли': 'BYN',
    'белрубль': 'BYN', 'белрублей': 'BYN', 'белрубля': 'BYN', 'белрубли': 'BYN',
    'бр': 'BYN', 'бр.': 'BYN',
    'крона': 'CZK', 'крон': 'CZK',
    'вона': 'KRW', 'вон': 'KRW',
    'рупия': 'INR', 'рупий': 'INR', 'рупии': 'INR',
    'злотый': 'PLN', 'злотых': 'PLN', 'злотого': 'PLN', 'злотые': 'PLN',
    'злот': 'PLN', 'злот.': 'PLN',
    'форинт': 'HUF', 'форинтов': 'HUF', 'форинта': 'HUF', 'форинты': 'HUF',
    'лира': 'TRY', 'лир': 'TRY', 'лиры': 'TRY',
    'реал': 'BRL', 'реалов': 'BRL', 'реала': 'BRL', 'реалы': 'BRL',
	# Precise "peso" aliases
	'мексиканское песо': 'MXN', 'мексиканских песо': 'MXN', 'мексиканского песо': 'MXN', 'мексиканские песо': 'MXN',
	'аргентинское песо': 'ARS', 'аргентинских песо': 'ARS', 'аргентинского песо': 'ARS', 'аргентинские песо': 'ARS',
	'чилийское песо': 'CLP', 'чилийских песо': 'CLP', 'чилийского песо': 'CLP', 'чилийские песо': 'CLP',
	'колумбийское песо': 'COP', 'колумбийских песо': 'COP', 'колумбийского песо': 'COP', 'колумбийские песо': 'COP',
	'уругвайское песо': 'UYU', 'уругвайских песо': 'UYU', 'уругвайского песо': 'UYU', 'уругвайские песо': 'UYU',
	'гуарани': 'PYG', 'гуарани.': 'PYG',
    'пула': 'BWP', 'пул': 'BWP', 'пулы': 'BWP',
    'ранд': 'ZAR', 'рандов': 'ZAR', 'ранда': 'ZAR', 'ранды': 'ZAR',
	# Egyptian pound (avoid overriding GBP)
	'египетский фунт': 'EGP', 'египетских фунтов': 'EGP', 'египетского фунта': 'EGP', 'египетские фунты': 'EGP',
    'найра': 'NGN', 'найр': 'NGN', 'найры': 'NGN',
    'шиллинг': 'KES', 'шиллингов': 'KES', 'шиллинга': 'KES', 'шиллинги': 'KES',
	'седи': 'GHS',
    'дирхам': 'MAD', 'дирхамов': 'MAD', 'дирхама': 'MAD', 'дирхамы': 'MAD',
    'динар': 'TND', 'динаров': 'TND', 'динара': 'TND', 'динары': 'TND',
	'ливийский динар': 'LYD', 'ливанский динар': 'LYD',
	'алжирский динар': 'DZD',
	'иорданский динар': 'JOD',
	'кувейтский динар': 'KWD',
	'бахрейнский динар': 'BHD',
    'риал': 'QAR', 'риалов': 'QAR', 'риала': 'QAR', 'риалы': 'QAR',
	'саудовский риял': 'SAR',
	'йеменский риал': 'YER',
	'иранский риал': 'IRR',
	'оманский риал': 'OMR',
    'шекель': 'ILS', 'шекелей': 'ILS', 'шекеля': 'ILS', 'шекели': 'ILS',
    'патака': 'MOP', 'патак': 'MOP', 'патаки': 'MOP',
    'гульден': 'ANG', 'гульденов': 'ANG', 'гульдена': 'ANG', 'гульдены': 'ANG',
    'восточно-карибский доллар': 'XCD', 'восточно-карибских долларов': 'XCD', 'восточно-карибского доллара': 'XCD', 'восточно-карибские доллары': 'XCD',
    'барбадосский доллар': 'BBD', 'барбадосских долларов': 'BBD', 'барбадосского доллара': 'BBD', 'барбадосские доллары': 'BBD',
    'тринидадский доллар': 'TTD', 'тринидадских долларов': 'TTD', 'тринидадского доллара': 'TTD', 'тринидадские доллары': 'TTD',
    'ямайский доллар': 'JMD', 'ямайских долларов': 'JMD', 'ямайского доллара': 'JMD', 'ямайские доллары': 'JMD',
    'гаитянский гурд': 'HTG', 'гаитянских гурдов': 'HTG', 'гаитянского гурда': 'HTG', 'гаитянские гурды': 'HTG',
    'доминиканский песо': 'DOP', 'доминиканских песос': 'DOP', 'доминиканского песо': 'DOP', 'доминиканские песо': 'DOP',
    'кубинский песо': 'CUP', 'кубинских песос': 'CUP', 'кубинского песо': 'CUP', 'кубинские песо': 'CUP',
    'багамский доллар': 'BSD', 'багамских долларов': 'BSD', 'багамского доллара': 'BSD', 'багамские доллары': 'BSD',
    'бермудский доллар': 'BMD', 'бермудских долларов': 'BMD', 'бермудского доллара': 'BMD', 'бермудские доллары': 'BMD',
    'белизский доллар': 'BZD', 'белизских долларов': 'BZD', 'белизского доллара': 'BZD', 'белизские доллары': 'BZD',
    'кветсаль': 'GTQ', 'кветсалей': 'GTQ', 'кветсаля': 'GTQ', 'кветсали': 'GTQ',
    'лемпира': 'HNL', 'лемпир': 'HNL', 'лемпиры': 'HNL',
    'колон': 'SVC', 'колонов': 'SVC', 'колона': 'SVC', 'колоны': 'SVC',
    'кордоба': 'NIO', 'кордоб': 'NIO', 'кордобы': 'NIO',
	'коста-риканский колон': 'CRC', 'коста-риканских колонов': 'CRC', 'коста-риканского колона': 'CRC', 'коста-риканские колоны': 'CRC',
	'бальбоа': 'PAB',
	'боливиано': 'BOB',
	'лари': 'GEL',
    'драм': 'AMD', 'драмов': 'AMD', 'драма': 'AMD', 'драмы': 'AMD',
    'манат': 'AZN', 'манатов': 'AZN', 'маната': 'AZN', 'манаты': 'AZN',
    'сом': 'KGS', 'сомов': 'KGS', 'сома': 'KGS', 'сомы': 'KGS',
	'сомони': 'TJS',
	'туркменский манат': 'TMT',
    'сум': 'UZS', 'сумов': 'UZS', 'сума': 'UZS', 'сумы': 'UZS',
    'тугрик': 'MNT', 'тугриков': 'MNT', 'тугрика': 'MNT', 'тугрики': 'MNT',
	'лоти': 'LSL',
	'лилангени': 'SZL',
    'маврикийская рупия': 'MUR', 'маврикийских рупий': 'MUR', 'маврикийской рупии': 'MUR', 'маврикийские рупии': 'MUR',
    'сейшельская рупия': 'SCR', 'сейшельских рупий': 'SCR', 'сейшельской рупии': 'SCR', 'сейшельские рупии': 'SCR',
	'коморский франк': 'KMF',
	'конголезский франк': 'CDF',
	'ариари': 'MGA', 'ариари.': 'MGA',
    'квача': 'MWK', 'квач': 'MWK', 'квачи': 'MWK',
	'замбийская квача': 'ZMW',
	'конвертируемая марка': 'BAM', 'марка конвертируемая': 'BAM',
	'сербский динар': 'RSD',
	'македонский денар': 'MKD',
    'лек': 'ALL', 'леков': 'ALL', 'лека': 'ALL', 'леки': 'ALL',
    'лев': 'BGN', 'левов': 'BGN', 'лева': 'BGN', 'левы': 'BGN',
    'куна': 'HRK', 'кун': 'HRK', 'куны': 'HRK',
	'эстонская крона': 'EEK',
	'финляндская марка': 'FIM',
	'французский франк': 'FRF',
	'немецкая марка': 'DEM',
    'драхма': 'GRD', 'драхм': 'GRD', 'драхмы': 'GRD',
	'ирландский фунт': 'IEP',
	'итальянская лира': 'ITL',
    'лат': 'LVL', 'латов': 'LVL', 'лата': 'LVL', 'латы': 'LVL',
    'лит': 'LTL', 'литов': 'LTL', 'лита': 'LTL', 'литы': 'LTL',
	'люксембургский франк': 'LUF',
	'мальтийская лира': 'MTL',
	'нидерландский гульден': 'NLG',
	'эскудо': 'PTE',
    'лей': 'ROL', 'леев': 'ROL', 'лея': 'ROL', 'леи': 'ROL',
	'словенский толар': 'SIT',
	'словацкая крона': 'SKK',
    'песета': 'ESP', 'песет': 'ESP', 'песеты': 'ESP',
    
    # Cryptocurrencies
    'биткоин': 'BTC', 'биткоинов': 'BTC', 'биткоина': 'BTC',
    'бит': 'BTC', 'битов': 'BTC', 'бита': 'BTC', 'биты': 'BTC',
    'биток': 'BTC', 'битков': 'BTC', 'битка': 'BTC', 'битки': 'BTC',
	'битко': 'BTC',
    'эфириум': 'ETH', 'эфириумов': 'ETH', 'эфириума': 'ETH',
    'эфир': 'ETH', 'эфиров': 'ETH', 'эфира': 'ETH', 'эфиры': 'ETH',
	'эфи': 'ETH',
    'тон': 'TON', 'тонов': 'TON', 'тона': 'TON',
    'тетер': 'USDT', 'тетеров': 'USDT', 'тетера': 'USDT',
	'юсдт': 'USDT',
	'юсд': 'USDT',
    'бинанс': 'BNB', 'бинансов': 'BNB', 'бинанса': 'BNB',
	'бнб': 'BNB',
	'кардано': 'ADA',
	'ада': 'ADA',
    'солана': 'SOL', 'солан': 'SOL', 'соланы': 'SOL',
	'сол': 'SOL',
    'полька': 'DOT', 'польк': 'DOT', 'польки': 'DOT',
	'дот': 'DOT',
    'полигон': 'MATIC', 'полигонов': 'MATIC', 'полигона': 'MATIC',
	'матик': 'MATIC',
    'чейнлинк': 'LINK', 'чейнлинков': 'LINK', 'чейнлинка': 'LINK',
	'линк': 'LINK',
    'юнисвап': 'UNI', 'юнисвапов': 'UNI', 'юнисвапа': 'UNI',
	'юни': 'UNI',
    'аваланч': 'AVAX', 'аваланчей': 'AVAX', 'аваланча': 'AVAX',
	'авакс': 'AVAX',
    'космос': 'ATOM', 'космосов': 'ATOM', 'космоса': 'ATOM',
	'атом': 'ATOM',
    'лайткоин': 'LTC', 'лайткоинов': 'LTC', 'лайткоина': 'LTC',
	'лайт': 'LTC',
    'биткоин кэш': 'BCH', 'биткоин кэшей': 'BCH', 'биткоин кэша': 'BCH',
	'бч': 'BCH',
    'рипл': 'XRP', 'риплов': 'XRP', 'рипла': 'XRP',
	'ксрп': 'XRP',
    'догекоин': 'DOGE', 'догекоинов': 'DOGE', 'догекоина': 'DOGE',
	'доге': 'DOGE',
    'шиба': 'SHIB', 'шиб': 'SHIB', 'шибов': 'SHIB',
    'трон': 'TRX', 'тронов': 'TRX', 'трона': 'TRX',
	'трх': 'TRX',
    'стеллар': 'XLM', 'стелларов': 'XLM', 'стеллара': 'XLM',
	'кслм': 'XLM',
	'дай': 'DAI',
	'бусд': 'BUSD',
	'тусд': 'TUSD',
	'гусд': 'GUSD',
	'фракс': 'FRAX',
	'лусд': 'LUSD'
}

# Processing modes
PROCESSING_MODES = {
    'simplified': 'Упрощенный режим',
    'standard': 'Стандартный режим', 
    'advanced': 'Расширенный режим'
} 